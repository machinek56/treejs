{"version":3,"sources":["webpack://Tree/webpack/universalModuleDefinition","webpack://Tree/webpack/bootstrap","webpack://Tree/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","uniq","arr","map","reduce","acc","item","push","animation","duration","callback","requestAnimationFrame","enter","active","setTimeout","leave","Tree","container","options","this","treeNodes","nodesById","leafNodesById","liElementsById","willUpdateNodesById","assign","selectMode","values","disables","closeDepth","myValues","defineProperties","getValues","set","setValues","getDisables","setDisables","selectedNodes","nodes","id","status","node","parent","children","disabledNodes","disabled","init","data","_Tree$parseTreeData","parseTreeData","defaultValues","defaultDisables","render","_this$options","length","treeEle","createRootEle","appendChild","buildTree","bindEvent","ele","document","querySelector","firstChild","removeChild","empty","depth","_this","rootUlEle","createUlEle","forEach","liEle","createLiEle","open","ulEle","_this2","addEventListener","e","target","nodeName","classList","contains","onItemClick","parentNode","nodeId","onSwitcherClick","onChange","setValue","updateLiElements","checked","splice","findIndex","markWillUpdateNode","walkUp","walkDown","_this3","emptyNodesCheckStatus","setDisable","_this4","emptyNodesDisable","getSelectedNodesById","getDisabledNodesById","entries","_ref","_ref2","_slicedToArray","_ref3","_ref4","_this5","updateLiElement","lastChild","height","scrollHeight","style","opacity","concat","remove","add","changeState","pStatus","statusCount","child","isNaN","pDisabled","_this6","obj","JSON","parse","stringify","walkTree","div","createElement","ul","closed","li","switcher","checkbox","dataset","label","text","createTextNode"],"mappings":"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","file":"tree.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Tree\"] = factory();\n\telse\n\t\troot[\"Tree\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\nfunction deepClone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nfunction uniq(arr) {\n  const map = {};\n  return arr.reduce((acc, item) => {\n    if (!map[item]) {\n      map[item] = true;\n      acc.push(item);\n    }\n    return acc;\n  }, []);\n}\n\nfunction empty(ele) {\n  while (ele.firstChild) {\n    ele.removeChild(ele.firstChild);\n  }\n}\n\nfunction animation(duration, callback) {\n  requestAnimationFrame(() => {\n    callback.enter();\n    requestAnimationFrame(() => {\n      callback.active();\n      setTimeout(() => {\n        callback.leave();\n      }, duration);\n    });\n  });\n}\n\nfunction findIndexEl (id, array) {\n  return array.findIndex(item => item.id === id)\n}\n\nexport default function Tree(container, options) {\n  const defaultOptions = {\n    selectMode: 'checkbox',\n    values: [],\n    disables: [],\n    closeDepth: null,\n  };\n  this.treeNodes = [];\n  this.nodesById = {};\n  this.leafNodesById = {};\n  this.liElementsById = {};\n  this.willUpdateNodesById = {};\n  this.container = container;\n  this.options = Object.assign(defaultOptions, options);\n\n  this.myValues = []\n\n  Object.defineProperties(this, {\n    values: {\n      get() {\n        return this.getValues();\n      },\n      set(values) {\n        return this.setValues(uniq(values));\n      },\n    },\n    disables: {\n      get() {\n        return this.getDisables();\n      },\n      set(values) {\n        return this.setDisables(uniq(values));\n      },\n    },\n    selectedNodes: {\n      get() {\n        let nodes = [];\n        let nodesById = this.nodesById;\n        for (let id in nodesById) {\n          if (\n            nodesById.hasOwnProperty(id) &&\n            (nodesById[id].status === 1 || nodesById[id].status === 2)\n          ) {\n            const node = Object.assign({}, nodesById[id]);\n            delete node.parent;\n            delete node.children;\n            nodes.push(node);\n          }\n        }\n        return nodes;\n      },\n    },\n    disabledNodes: {\n      get() {\n        let nodes = [];\n        let nodesById = this.nodesById;\n        for (let id in nodesById) {\n          if (nodesById.hasOwnProperty(id) && nodesById[id].disabled) {\n            let node = Object.assign({}, nodesById[id]);\n            delete node.parent;\n            nodes.push(node);\n          }\n        }\n        return nodes;\n      },\n    },\n  });\n\n  this.init(this.options.data);\n}\n\nTree.prototype.init = function(data) {\n  console.time('init');\n  let {\n    treeNodes,\n    nodesById,\n    leafNodesById,\n    defaultValues,\n    defaultDisables,\n  } = Tree.parseTreeData(data);\n  this.treeNodes = treeNodes;\n  this.nodesById = nodesById;\n  this.leafNodesById = leafNodesById;\n  this.render(this.treeNodes);\n  const {values, disables} = this.options;\n  if (values && values.length) defaultValues = values;\n  defaultValues.length && this.setValues(defaultValues);\n  if (disables && disables.length) defaultDisables = disables;\n  defaultDisables.length && this.setDisables(defaultDisables);\n  console.timeEnd('init');\n};\n\nTree.prototype.render = function(treeNodes) {\n  const treeEle = Tree.createRootEle();\n  treeEle.appendChild(this.buildTree(treeNodes, 0));\n  this.bindEvent(treeEle);\n  const ele = document.querySelector(this.container);\n  empty(ele);\n  ele.appendChild(treeEle);\n};\n\nTree.prototype.buildTree = function(nodes, depth) {\n  const rootUlEle = Tree.createUlEle();\n  if (nodes && nodes.length) {\n    nodes.forEach(node => {\n      const liEle = Tree.createLiEle(\n        node,\n        !node.open // open subtree or not\n      );\n      this.liElementsById[node.id] = liEle;\n      let ulEle = null;\n      if (node.children && node.children.length) {\n        ulEle = this.buildTree(node.children, depth + 1);\n      }\n      ulEle && liEle.appendChild(ulEle);\n      rootUlEle.appendChild(liEle);\n    });\n  }\n  return rootUlEle;\n};\n\nTree.prototype.bindEvent = function(ele) {\n  ele.addEventListener(\n    'click',\n    e => {\n      const {target} = e;\n      if (\n        target.nodeName === 'SPAN' &&\n        (target.classList.contains('treejs-checkbox') ||\n          target.classList.contains('treejs-label'))\n      ) {\n        this.onItemClick(target.parentNode.nodeId);\n      } else if (\n        target.nodeName === 'LI' &&\n        target.classList.contains('treejs-node')\n      ) {\n        this.onItemClick(target.nodeId);\n      } else if (\n        target.nodeName === 'SPAN' &&\n        target.classList.contains('treejs-switcher')\n      ) {\n        this.onSwitcherClick(target);\n      }\n    },\n    false\n  );\n};\n\nTree.prototype.onItemClick = function(id) {\n  console.time('onItemClick');\n  const node = this.nodesById[id];\n  const {onChange} = this.options;\n  if (!node.disabled) {\n    this.setValue(id);\n    this.updateLiElements();\n  }\n  onChange && onChange.call(this, {\n    name: node.name,\n    id: node.id,\n    checked: node.status === 2\n  });\n  console.timeEnd('onItemClick');\n};\n\nTree.prototype.setValue = function(value) {\n  const node = this.nodesById[value];\n  if (!node) return;\n  const prevStatus = node.status;\n  const status = prevStatus === 2 ? 0 : 2;\n  node.status = status;\n\n  if (node.status !== 0) {\n    this.myValues.push({\n      name: node.name,\n      id: node.id\n    })\n  } else {\n    this.myValues.splice(findIndexEl(node.id, this.myValues), 1)\n  }\n\n  this.markWillUpdateNode(node);\n  this.walkUp(node, 'status');\n  this.walkDown(node, 'status');\n};\n\nTree.prototype.getValues = function() {\n  const values = [];\n  for (let id in this.leafNodesById) {\n    if (this.leafNodesById.hasOwnProperty(id)) {\n      if (\n        this.leafNodesById[id].status === 1 ||\n        this.leafNodesById[id].status === 2\n      ) {\n        values.push(id);\n      }\n    }\n  }\n  return values;\n};\n\nTree.prototype.setValues = function(values) {\n  this.emptyNodesCheckStatus();\n  values.forEach(value => {\n    this.setValue(value);\n  });\n  this.updateLiElements();\n  const {onChange} = this.options;\n  onChange && onChange.call(this);\n};\n\nTree.prototype.setDisable = function(value) {\n  const node = this.nodesById[value];\n  if (!node) return;\n  const prevDisabled = node.disabled;\n  if (!prevDisabled) {\n    node.disabled = true;\n    this.markWillUpdateNode(node);\n    this.walkUp(node, 'disabled');\n    this.walkDown(node, 'disabled');\n  }\n};\n\nTree.prototype.getDisables = function() {\n  const values = [];\n  for (let id in this.leafNodesById) {\n    if (this.leafNodesById.hasOwnProperty(id)) {\n      if (this.leafNodesById[id].disabled) {\n        values.push(id);\n      }\n    }\n  }\n  return values;\n};\n\nTree.prototype.setDisables = function(values) {\n  this.emptyNodesDisable();\n  values.forEach(value => {\n    this.setDisable(value);\n  });\n  this.updateLiElements();\n};\n\nTree.prototype.emptyNodesCheckStatus = function() {\n  this.willUpdateNodesById = this.getSelectedNodesById();\n  Object.values(this.willUpdateNodesById).forEach(node => {\n    if (!node.disabled) node.status = 0;\n  });\n};\n\nTree.prototype.emptyNodesDisable = function() {\n  this.willUpdateNodesById = this.getDisabledNodesById();\n  Object.values(this.willUpdateNodesById).forEach(node => {\n    node.disabled = false;\n  });\n};\n\nTree.prototype.getSelectedNodesById = function() {\n  return Object.entries(this.nodesById).reduce((acc, [id, node]) => {\n    if (node.status === 1 || node.status === 2) {\n      acc[id] = node;\n    }\n    return acc;\n  }, {});\n};\n\nTree.prototype.getDisabledNodesById = function() {\n  return Object.entries(this.nodesById).reduce((acc, [id, node]) => {\n    if (node.disabled) {\n      acc[id] = node;\n    }\n    return acc;\n  }, {});\n};\n\nTree.prototype.updateLiElements = function() {\n  Object.values(this.willUpdateNodesById).forEach(node => {\n    this.updateLiElement(node);\n  });\n  this.willUpdateNodesById = {};\n};\n\nTree.prototype.markWillUpdateNode = function(node) {\n  this.willUpdateNodesById[node.id] = node;\n};\n\nTree.prototype.onSwitcherClick = function(target) {\n  const liEle = target.parentNode;\n  const ele = liEle.lastChild;\n  const height = ele.scrollHeight;\n  if (liEle.classList.contains('treejs-node__close')) {\n    animation(150, {\n      enter() {\n        ele.style.height = 0;\n        ele.style.opacity = 0;\n      },\n      active() {\n        ele.style.height = `${height}px`;\n        ele.style.opacity = 1;\n      },\n      leave() {\n        ele.style.height = '';\n        ele.style.opacity = '';\n        liEle.classList.remove('treejs-node__close');\n      },\n    });\n  } else {\n    animation(150, {\n      enter() {\n        ele.style.height = `${height}px`;\n        ele.style.opacity = 1;\n      },\n      active() {\n        ele.style.height = 0;\n        ele.style.opacity = 0;\n      },\n      leave() {\n        ele.style.height = '';\n        ele.style.opacity = '';\n        liEle.classList.add('treejs-node__close');\n      },\n    });\n  }\n};\n\nTree.prototype.walkUp = function(node, changeState) {\n  const {parent} = node;\n  if (parent) {\n    if (changeState === 'status') {\n      let pStatus = null;\n      const statusCount = parent.children.reduce((acc, child) => {\n        if (!isNaN(child.status)) return acc + child.status;\n        return acc;\n      }, 0);\n      if (statusCount) {\n        pStatus = statusCount === parent.children.length * 2 ? 2 : 1;\n      } else {\n        pStatus = 0;\n      }\n      if (parent.status === pStatus) return;\n      parent.status = pStatus;\n    } else {\n      const pDisabled = parent.children.reduce(\n        (acc, child) => acc && child.disabled,\n        true\n      );\n      if (parent.disabled === pDisabled) return;\n      parent.disabled = pDisabled;\n    }\n    this.markWillUpdateNode(parent);\n    this.walkUp(parent, changeState);\n  }\n};\n\nTree.prototype.walkDown = function(node, changeState) {\n  if (node.children && node.children.length) {\n    node.children.forEach(child => {\n      if (changeState === 'status' && child.disabled) return;\n      child[changeState] = node[changeState];\n      this.markWillUpdateNode(child);\n      this.walkDown(child, changeState);\n    });\n  }\n};\n\nTree.prototype.updateLiElement = function(node) {\n  const {classList} = this.liElementsById[node.id];\n  switch (node.status) {\n    case 0:\n      classList.remove('treejs-node__halfchecked', 'treejs-node__checked');\n      break;\n    case 1:\n      classList.remove('treejs-node__checked');\n      classList.add('treejs-node__halfchecked');\n      break;\n    case 2:\n      classList.remove('treejs-node__halfchecked');\n      classList.add('treejs-node__checked');\n      break;\n  }\n\n  switch (node.disabled) {\n    case true:\n      if (!classList.contains('treejs-node__disabled'))\n        classList.add('treejs-node__disabled');\n      break;\n    case false:\n      if (classList.contains('treejs-node__disabled'))\n        classList.remove('treejs-node__disabled');\n      break;\n  }\n};\n\nTree.parseTreeData = function(data) {\n  const treeNodes = deepClone(data);\n  const nodesById = {};\n  const leafNodesById = {};\n  const values = [];\n  const disables = [];\n  const walkTree = function(nodes, parent) {\n    nodes.forEach(node => {\n      nodesById[node.id] = node;\n      if (node.checked) values.push(node.id);\n      if (node.disabled) disables.push(node.id);\n      if (parent) node.parent = parent;\n      if (node.children && node.children.length) {\n        walkTree(node.children, node);\n      } else {\n        leafNodesById[node.id] = node;\n      }\n    });\n  };\n  walkTree(treeNodes);\n  return {\n    treeNodes,\n    nodesById,\n    leafNodesById,\n    defaultValues: values,\n    defaultDisables: disables,\n  };\n};\n\nTree.createRootEle = function() {\n  const div = document.createElement('div');\n  div.classList.add('treejs');\n  return div;\n};\n\nTree.createUlEle = function() {\n  const ul = document.createElement('ul');\n  ul.classList.add('treejs-nodes');\n  return ul;\n};\n\nTree.createLiEle = function(node, closed) {\n  const li = document.createElement('li');\n  li.classList.add('treejs-node');\n  if (closed) li.classList.add('treejs-node__close');\n  if (node.children && node.children.length) {\n    const switcher = document.createElement('span');\n    switcher.classList.add('treejs-switcher');\n    li.appendChild(switcher);\n  } else {\n    li.classList.add('treejs-placeholder');\n  }\n  const checkbox = document.createElement('span');\n  checkbox.classList.add('treejs-checkbox');\n  checkbox.dataset.id = node.id\n  checkbox.value = node.name\n\n  li.appendChild(checkbox);\n  const label = document.createElement('span');\n  label.classList.add('treejs-label');\n  const text = document.createTextNode(node.name);\n  label.appendChild(text);\n  li.appendChild(label);\n  li.nodeId = node.id;\n  return li;\n};\n"],"sourceRoot":""}