{"version":3,"sources":["webpack://Tree/webpack/universalModuleDefinition","webpack://Tree/webpack/bootstrap","webpack://Tree/./src/index.js"],"names":["deepClone","obj","JSON","parse","stringify","uniq","arr","map","reduce","acc","item","push","empty","ele","firstChild","removeChild","animation","duration","callback","requestAnimationFrame","enter","active","setTimeout","leave","findIndexEl","id","array","findIndex","Tree","container","options","defaultOptions","selectMode","values","disables","closeDepth","treeNodes","nodesById","leafNodesById","liElementsById","willUpdateNodesById","Object","assign","myValues","defineProperties","get","getValues","set","setValues","getDisables","setDisables","selectedNodes","nodes","hasOwnProperty","status","node","parent","children","disabledNodes","disabled","init","data","prototype","console","time","parseTreeData","defaultValues","defaultDisables","render","length","timeEnd","treeEle","createRootEle","appendChild","buildTree","bindEvent","document","querySelector","depth","rootUlEle","createUlEle","forEach","liEle","createLiEle","open","ulEle","addEventListener","target","e","nodeName","classList","contains","onItemClick","parentNode","nodeId","onSwitcherClick","onChange","setValue","updateLiElements","call","name","checked","value","prevStatus","splice","markWillUpdateNode","walkUp","walkDown","emptyNodesCheckStatus","setDisable","prevDisabled","emptyNodesDisable","getSelectedNodesById","getDisabledNodesById","entries","updateLiElement","lastChild","height","scrollHeight","style","opacity","remove","add","changeState","pStatus","statusCount","child","isNaN","pDisabled","walkTree","div","createElement","ul","closed","li","switcher","checkbox","dataset","label","text","createTextNode"],"mappings":"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","file":"tree.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Tree\"] = factory();\n\telse\n\t\troot[\"Tree\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\nfunction deepClone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nfunction uniq(arr) {\n  const map = {};\n  return arr.reduce((acc, item) => {\n    if (!map[item]) {\n      map[item] = true;\n      acc.push(item);\n    }\n    return acc;\n  }, []);\n}\n\nfunction empty(ele) {\n  while (ele.firstChild) {\n    ele.removeChild(ele.firstChild);\n  }\n}\n\nfunction animation(duration, callback) {\n  requestAnimationFrame(() => {\n    callback.enter();\n    requestAnimationFrame(() => {\n      callback.active();\n      setTimeout(() => {\n        callback.leave();\n      }, duration);\n    });\n  });\n}\n\nfunction findIndexEl (id, array) {\n  return array.findIndex(item => item.id === id)\n}\n\nexport default function Tree(container, options) {\n  const defaultOptions = {\n    selectMode: 'checkbox',\n    values: [],\n    disables: [],\n    closeDepth: null,\n  };\n  this.treeNodes = [];\n  this.nodesById = {};\n  this.leafNodesById = {};\n  this.liElementsById = {};\n  this.willUpdateNodesById = {};\n  this.container = container;\n  this.options = Object.assign(defaultOptions, options);\n\n  this.myValues = []\n\n  Object.defineProperties(this, {\n    values: {\n      get() {\n        return this.getValues();\n      },\n      set(values) {\n        return this.setValues(uniq(values));\n      },\n    },\n    disables: {\n      get() {\n        return this.getDisables();\n      },\n      set(values) {\n        return this.setDisables(uniq(values));\n      },\n    },\n    selectedNodes: {\n      get() {\n        let nodes = [];\n        let nodesById = this.nodesById;\n        for (let id in nodesById) {\n          if (\n            nodesById.hasOwnProperty(id) &&\n            (nodesById[id].status === 1 || nodesById[id].status === 2)\n          ) {\n            const node = Object.assign({}, nodesById[id]);\n            delete node.parent;\n            delete node.children;\n            nodes.push(node);\n          }\n        }\n        return nodes;\n      },\n    },\n    disabledNodes: {\n      get() {\n        let nodes = [];\n        let nodesById = this.nodesById;\n        for (let id in nodesById) {\n          if (nodesById.hasOwnProperty(id) && nodesById[id].disabled) {\n            let node = Object.assign({}, nodesById[id]);\n            delete node.parent;\n            nodes.push(node);\n          }\n        }\n        return nodes;\n      },\n    },\n  });\n\n  this.init(this.options.data);\n}\n\nTree.prototype.init = function(data) {\n  console.time('init');\n  let {\n    treeNodes,\n    nodesById,\n    leafNodesById,\n    defaultValues,\n    defaultDisables,\n  } = Tree.parseTreeData(data);\n  this.treeNodes = treeNodes;\n  this.nodesById = nodesById;\n  this.leafNodesById = leafNodesById;\n  this.render(this.treeNodes);\n  const {values, disables} = this.options;\n  if (values && values.length) defaultValues = values;\n  defaultValues.length && this.setValues(defaultValues);\n  if (disables && disables.length) defaultDisables = disables;\n  defaultDisables.length && this.setDisables(defaultDisables);\n  console.timeEnd('init');\n};\n\nTree.prototype.render = function(treeNodes) {\n  const treeEle = Tree.createRootEle();\n  treeEle.appendChild(this.buildTree(treeNodes, 0));\n  this.bindEvent(treeEle);\n  const ele = document.querySelector(this.container);\n  empty(ele);\n  ele.appendChild(treeEle);\n};\n\nTree.prototype.buildTree = function(nodes, depth) {\n  const rootUlEle = Tree.createUlEle();\n  if (nodes && nodes.length) {\n    nodes.forEach(node => {\n      const liEle = Tree.createLiEle(\n        node,\n        !node.open // open subtree or not\n      );\n      this.liElementsById[node.id] = liEle;\n      let ulEle = null;\n      if (node.children && node.children.length) {\n        ulEle = this.buildTree(node.children, depth + 1);\n      }\n      ulEle && liEle.appendChild(ulEle);\n      rootUlEle.appendChild(liEle);\n    });\n  }\n  return rootUlEle;\n};\n\nTree.prototype.bindEvent = function(ele) {\n  ele.addEventListener(\n    'click',\n    e => {\n      const {target} = e;\n      if (\n        target.nodeName === 'SPAN' &&\n        (target.classList.contains('treejs-checkbox') ||\n          target.classList.contains('treejs-label'))\n      ) {\n        this.onItemClick(target.parentNode.nodeId);\n      } else if (\n        target.nodeName === 'LI' &&\n        target.classList.contains('treejs-node')\n      ) {\n        this.onItemClick(target.nodeId);\n      } else if (\n        target.nodeName === 'SPAN' &&\n        target.classList.contains('treejs-switcher')\n      ) {\n        this.onSwitcherClick(target);\n      }\n    },\n    false\n  );\n};\n\nTree.prototype.onItemClick = function(id) {\n  console.time('onItemClick');\n  const node = this.nodesById[id];\n  const {onChange} = this.options;\n  if (!node.disabled) {\n    this.setValue(id);\n    this.updateLiElements();\n  }\n  onChange && onChange.call(this, {\n    name: node.name,\n    id: node.id,\n    checked: node.status === 2\n  });\n  console.timeEnd('onItemClick');\n};\n\nTree.prototype.setValue = function(value) {\n  const node = this.nodesById[value];\n  if (!node) return;\n  const prevStatus = node.status;\n  const status = prevStatus === 2 ? 0 : 2;\n  node.status = status;\n\n  if (node.status !== 0) {\n    this.myValues.push({\n      name: node.name,\n      id: node.id\n    })\n  } else {\n    this.myValues.splice(findIndexEl(node.id, this.myValues), 1)\n  }\n\n  this.markWillUpdateNode(node);\n  this.walkUp(node, 'status');\n  this.walkDown(node, 'status');\n};\n\nTree.prototype.getValues = function() {\n  const values = [];\n  for (let id in this.leafNodesById) {\n    if (this.leafNodesById.hasOwnProperty(id)) {\n      if (\n        this.leafNodesById[id].status === 1 ||\n        this.leafNodesById[id].status === 2\n      ) {\n        values.push(id);\n      }\n    }\n  }\n  return values;\n};\n\nTree.prototype.setValues = function(values) {\n  this.emptyNodesCheckStatus();\n  values.forEach(value => {\n    this.setValue(value);\n  });\n  this.updateLiElements();\n  const {onChange} = this.options;\n  onChange && onChange.call(this);\n};\n\nTree.prototype.setDisable = function(value) {\n  const node = this.nodesById[value];\n  if (!node) return;\n  const prevDisabled = node.disabled;\n  if (!prevDisabled) {\n    node.disabled = true;\n    this.markWillUpdateNode(node);\n    this.walkUp(node, 'disabled');\n    this.walkDown(node, 'disabled');\n  }\n};\n\nTree.prototype.getDisables = function() {\n  const values = [];\n  for (let id in this.leafNodesById) {\n    if (this.leafNodesById.hasOwnProperty(id)) {\n      if (this.leafNodesById[id].disabled) {\n        values.push(id);\n      }\n    }\n  }\n  return values;\n};\n\nTree.prototype.setDisables = function(values) {\n  this.emptyNodesDisable();\n  values.forEach(value => {\n    this.setDisable(value);\n  });\n  this.updateLiElements();\n};\n\nTree.prototype.emptyNodesCheckStatus = function() {\n  this.willUpdateNodesById = this.getSelectedNodesById();\n  Object.values(this.willUpdateNodesById).forEach(node => {\n    if (!node.disabled) node.status = 0;\n  });\n};\n\nTree.prototype.emptyNodesDisable = function() {\n  this.willUpdateNodesById = this.getDisabledNodesById();\n  Object.values(this.willUpdateNodesById).forEach(node => {\n    node.disabled = false;\n  });\n};\n\nTree.prototype.getSelectedNodesById = function() {\n  return Object.entries(this.nodesById).reduce((acc, [id, node]) => {\n    if (node.status === 1 || node.status === 2) {\n      acc[id] = node;\n    }\n    return acc;\n  }, {});\n};\n\nTree.prototype.getDisabledNodesById = function() {\n  return Object.entries(this.nodesById).reduce((acc, [id, node]) => {\n    if (node.disabled) {\n      acc[id] = node;\n    }\n    return acc;\n  }, {});\n};\n\nTree.prototype.updateLiElements = function() {\n  Object.values(this.willUpdateNodesById).forEach(node => {\n    this.updateLiElement(node);\n  });\n  this.willUpdateNodesById = {};\n};\n\nTree.prototype.markWillUpdateNode = function(node) {\n  this.willUpdateNodesById[node.id] = node;\n};\n\nTree.prototype.onSwitcherClick = function(target) {\n  const liEle = target.parentNode;\n  const ele = liEle.lastChild;\n  const height = ele.scrollHeight;\n  if (liEle.classList.contains('treejs-node__close')) {\n    animation(150, {\n      enter() {\n        ele.style.height = 0;\n        ele.style.opacity = 0;\n      },\n      active() {\n        ele.style.height = `${height}px`;\n        ele.style.opacity = 1;\n      },\n      leave() {\n        ele.style.height = '';\n        ele.style.opacity = '';\n        liEle.classList.remove('treejs-node__close');\n      },\n    });\n  } else {\n    animation(150, {\n      enter() {\n        ele.style.height = `${height}px`;\n        ele.style.opacity = 1;\n      },\n      active() {\n        ele.style.height = 0;\n        ele.style.opacity = 0;\n      },\n      leave() {\n        ele.style.height = '';\n        ele.style.opacity = '';\n        liEle.classList.add('treejs-node__close');\n      },\n    });\n  }\n};\n\nTree.prototype.walkUp = function(node, changeState) {\n  const {parent} = node;\n  if (parent) {\n    if (changeState === 'status') {\n      let pStatus = null;\n      const statusCount = parent.children.reduce((acc, child) => {\n        if (!isNaN(child.status)) return acc + child.status;\n        return acc;\n      }, 0);\n      if (statusCount) {\n        pStatus = statusCount === parent.children.length * 2 ? 2 : 1;\n      } else {\n        pStatus = 0;\n      }\n      if (parent.status === pStatus) return;\n      parent.status = pStatus;\n    } else {\n      const pDisabled = parent.children.reduce(\n        (acc, child) => acc && child.disabled,\n        true\n      );\n      if (parent.disabled === pDisabled) return;\n      parent.disabled = pDisabled;\n    }\n    this.markWillUpdateNode(parent);\n    this.walkUp(parent, changeState);\n  }\n};\n\nTree.prototype.walkDown = function(node, changeState) {\n  if (node.children && node.children.length) {\n    node.children.forEach(child => {\n      if (changeState === 'status' && child.disabled) return;\n      child[changeState] = node[changeState];\n      this.markWillUpdateNode(child);\n      this.walkDown(child, changeState);\n    });\n  }\n};\n\nTree.prototype.updateLiElement = function(node) {\n  const {classList} = this.liElementsById[node.id];\n  switch (node.status) {\n    case 0:\n      classList.remove('treejs-node__halfchecked', 'treejs-node__checked');\n      break;\n    case 1:\n      classList.remove('treejs-node__checked');\n      classList.add('treejs-node__halfchecked');\n      break;\n    case 2:\n      classList.remove('treejs-node__halfchecked');\n      classList.add('treejs-node__checked');\n      break;\n  }\n\n  switch (node.disabled) {\n    case true:\n      if (!classList.contains('treejs-node__disabled'))\n        classList.add('treejs-node__disabled');\n      break;\n    case false:\n      if (classList.contains('treejs-node__disabled'))\n        classList.remove('treejs-node__disabled');\n      break;\n  }\n};\n\nTree.parseTreeData = function(data) {\n  const treeNodes = deepClone(data);\n  const nodesById = {};\n  const leafNodesById = {};\n  const values = [];\n  const disables = [];\n  const walkTree = function(nodes, parent) {\n    nodes.forEach(node => {\n      nodesById[node.id] = node;\n      if (node.checked) values.push(node.id);\n      if (node.disabled) disables.push(node.id);\n      if (parent) node.parent = parent;\n      if (node.children && node.children.length) {\n        walkTree(node.children, node);\n      } else {\n        leafNodesById[node.id] = node;\n      }\n    });\n  };\n  walkTree(treeNodes);\n  return {\n    treeNodes,\n    nodesById,\n    leafNodesById,\n    defaultValues: values,\n    defaultDisables: disables,\n  };\n};\n\nTree.createRootEle = function() {\n  const div = document.createElement('div');\n  div.classList.add('treejs');\n  return div;\n};\n\nTree.createUlEle = function() {\n  const ul = document.createElement('ul');\n  ul.classList.add('treejs-nodes');\n  return ul;\n};\n\nTree.createLiEle = function(node, closed) {\n  const li = document.createElement('li');\n  li.classList.add('treejs-node');\n  if (closed) li.classList.add('treejs-node__close');\n  if (node.children && node.children.length) {\n    const switcher = document.createElement('span');\n    switcher.classList.add('treejs-switcher');\n    li.appendChild(switcher);\n  } else {\n    li.classList.add('treejs-placeholder');\n  }\n  const checkbox = document.createElement('span');\n  checkbox.classList.add('treejs-checkbox');\n  checkbox.dataset.id = node.id\n  checkbox.value = node.name\n\n  li.appendChild(checkbox);\n  const label = document.createElement('span');\n  label.classList.add('treejs-label');\n  const text = document.createTextNode(node.name);\n  label.appendChild(text);\n  li.appendChild(label);\n  li.nodeId = node.id;\n  return li;\n};\n"],"sourceRoot":""}